# Copyright (C) 2023, Oracle and/or its affiliates.
# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.
apiVersion: v1
kind: Namespace
metadata:
  annotations:
    "helm.sh/hook": "pre-install"
  name: {{ template "kube-prometheus-stack.namespace" . }}
  labels:
    verrazzano.io/namespace: {{ template "kube-prometheus-stack.namespace" . }}
    istio-injection: enabled
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    "helm.sh/hook": "pre-install"
  name: {{ .Values.prometheus.prometheusSpec.additionalScrapeConfigsSecret.name }}
  namespace: {{ template "kube-prometheus-stack.namespace" . }}
data:
  {{ .Values.prometheus.prometheusSpec.additionalScrapeConfigsSecret.key }}: {}