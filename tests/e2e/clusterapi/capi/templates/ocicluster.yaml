apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
kind: OCICluster
metadata:
  labels:
    cluster.x-k8s.io/cluster-name: {{.Name}}
  name: {{.Name}}
  namespace: {{.Namespace}}
spec:
  compartmentId: {{.OCICompartmentID}}
  identityRef:
    apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
    kind: OCIClusterIdentity
    name: {{.Name}}-cluster-identity
    namespace: {{.Namespace}}
  networkSpec:
    skipNetworkManagement: true
    vcn:
      id: {{.OCIVcnID}}
      subnets:
        - id: {{.OCISubnetID}}
          role: control-plane-endpoint
          name: control-plane-endpoint
          cidr: {{.OCISubnetCidr}}
          type: {{.OCISubnetType}}
        - id: {{.OCISubnetID}}
          role: control-plane
          name: control-plane
          cidr: {{.OCISubnetCidr}}
          type: {{.OCISubnetType}}
        - id: {{.OCISubnetID}}
          role: worker
          name: worker
          cidr: {{.OCISubnetCidr}}
          type: {{.OCISubnetType}}